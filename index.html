<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Z-Land : Survival RPG</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Courier+Prime:wght@400;700&display=swap');

        body {
            background-color: #050505;
            color: #2ecc71; /* Vert terminal */
            font-family: 'Courier Prime', monospace;
            display: flex;
            justify-content: center;
            padding: 20px;
            margin: 0;
        }

        #game-container {
            width: 100%;
            max-width: 800px;
            border: 1px solid #1a1a1a;
            background: #0a0a0a;
            padding: 20px;
            box-shadow: 0 0 20px rgba(0, 255, 0, 0.05);
        }

        /* Interface des Stats */
        .stats-bar {
            display: flex;
            justify-content: space-between;
            border-bottom: 2px solid #1a1a1a;
            padding-bottom: 10px;
            margin-bottom: 20px;
            color: #e74c3c; /* Rouge pour les stats vitales */
        }

        /* Journal d'événements */
        #log {
            height: 300px;
            overflow-y: auto;
            border: 1px solid #1a1a1a;
            padding: 15px;
            background: #000;
            margin-bottom: 20px;
            font-size: 0.95em;
            line-height: 1.5;
        }

        .event-text { margin-bottom: 10px; border-left: 3px solid #333; padding-left: 10px; }
        .danger { color: #ff4d4d; border-color: #ff4d4d; }
        .loot { color: #f1c40f; border-color: #f1c40f; }

        /* Boutons d'Action */
        .actions {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }

        button {
            background: #1a1a1a;
            border: 1px solid #2ecc71;
            color: #2ecc71;
            padding: 15px;
            cursor: pointer;
            font-family: 'Courier Prime', monospace;
            text-transform: uppercase;
            transition: 0.2s;
        }

        button:hover:not(:disabled) {
            background: #2ecc71;
            color: #000;
        }

        button:disabled {
            border-color: #333;
            color: #333;
            cursor: not-allowed;
        }

        .hidden { display: none; }
    </style>
</head>
<body>

<div id="game-container">
    <div class="stats-bar">
        <span>SANTÉ: <span id="hp">100</span>/100</span>
        <span>MUNITIONS: <span id="ammo">10</span></span>
        <span>XP: <span id="xp">0</span></span>
    </div>

    <div id="log">
        <div class="event-text">Système initialisé... Bienvenue dans la Zone.</div>
    </div>

    <div id="menu-explore" class="actions">
        <button onclick="explore()">Explorer le secteur</button>
        <button onclick="rest()">Se reposer (Soin)</button>
    </div>

    <div id="menu-combat" class="actions hidden">
        <button onclick="attack()">Tirer (1 Balle)</button>
        <button onclick="run()">Tenter de fuir</button>
    </div>
</div>

<script>
    // État du Joueur
    let player = {
        hp: 100,
        ammo: 10,
        xp: 0,
        level: 1
    };

    let currentEnemyHp = 0;

    const logElement = document.getElementById('log');

    function updateUI() {
        document.getElementById('hp').innerText = player.hp;
        document.getElementById('ammo').innerText = player.ammo;
        document.getElementById('xp').innerText = player.xp;
        
        if(player.hp <= 0) {
            addLog("MORT : Vous avez succombé aux blessures.", "danger");
            document.querySelectorAll('button').forEach(b => b.disabled = true);
        }
    }

    function addLog(text, type = "") {
        const div = document.createElement('div');
        div.className = `event-text ${type}`;
        div.innerText = `> ${text}`;
        logElement.prepend(div);
    }

    // --- LOGIQUE D'EXPLORATION ---
    function explore() {
        let chance = Math.random();

        if (chance > 0.7) {
            // Rencontre Zombie
            startCombat();
        } else if (chance > 0.4) {
            // Trouve des munitions
            let found = Math.floor(Math.random() * 5) + 2;
            player.ammo += found;
            addLog(`Vous fouillez un bâtiment et trouvez ${found} munitions.`, "loot");
        } else {
            // Rien
            addLog("Secteur vide. Rien à signaler.");
        }
        updateUI();
    }

    function rest() {
        if(player.hp < 100) {
            player.hp = Math.min(100, player.hp + 20);
            addLog("Vous avez pris quelques heures de repos.");
        } else {
            addLog("Vous n'êtes pas fatigué.");
        }
        updateUI();
    }

    // --- LOGIQUE DE COMBAT ---
    function startCombat() {
        currentEnemyHp = 15 + (player.level * 5);
        addLog("ALERTE : Un zombie affamé vous bloque le passage !", "danger");
        document.getElementById('menu-explore').classList.add('hidden');
        document.getElementById('menu-combat').classList.remove('hidden');
    }

    function attack() {
        if (player.ammo > 0) {
            player.ammo--;
            let dmg = Math.floor(Math.random() * 10) + 5;
            currentEnemyHp -= dmg;
            addLog(`Vous tirez. Le zombie perd ${dmg} PV.`);

            if (currentEnemyHp <= 0) {
                addLog("Le zombie s'effondre. Vous gagnez 20 XP.", "loot");
                player.xp += 20;
                endCombat();
            } else {
                enemyTurn();
            }
        } else {
            addLog("Plus de munitions ! Vous devez fuir !", "danger");
        }
        updateUI();
    }

    function enemyTurn() {
        let dmg = Math.floor(Math.random() * 15) + 5;
        player.hp -= dmg;
        addLog(`Le zombie vous griffe ! -${dmg} PV`, "danger");
        updateUI();
    }

    function run() {
        if (Math.random() > 0.5) {
            addLog("Vous avez réussi à vous échapper.");
            endCombat();
        } else {
            addLog("La fuite a échoué ! Le zombie attaque.", "danger");
            enemyTurn();
        }
    }

    function endCombat() {
        document.getElementById('menu-explore').classList.remove('hidden');
        document.getElementById('menu-combat').classList.add('hidden');
        updateUI();
    }
</script>
</body>
</html>
